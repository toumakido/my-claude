GitHub 課題 $ARGUMENTS の分析と修正を実行してください。

## 前提条件
- gh CLI がインストールされ、認証済みであること
- $ARGUMENTS は issue番号（例: 123）または URL を受け付ける
- リポジトリのルートディレクトリで実行すること

## 実行手順

### 1. Issue の取得と検証
- `gh issue view $ARGUMENTS` で issue 詳細を取得
- issue が存在しない場合はエラーメッセージを表示して終了
- issue のタイトル、本文、ラベル、コメントを確認

### 2. 作業計画の作成
- TodoWrite ツールを使って以下のタスクリストを作成:
  - Issue の詳細確認
  - 問題の原因分析
  - 関連ファイルの特定
  - 修正の実装
  - テストの実行と検証
  - コミット作成
  - プルリクエスト作成

### 3. 問題の理解と原因分析
- issue の内容から問題の本質を特定
- 再現手順がある場合は確認
- エラーメッセージやスタックトレースを分析
- **ユーザーに確認**: 理解した内容が正しいか確認し、修正方針を提示

### 4. 作業ブランチの作成
- `git checkout -b fix/issue-$ISSUE_NUMBER` で新ブランチを作成
- ブランチ名は issue 内容に応じて適切に命名

### 5. 関連ファイルの検索と分析
- Glob/Grep または Task ツール（subagent_type=Explore）を使用
- 問題に関連するコード箇所を特定
- 影響範囲を評価

### 6. 修正の実装
- 特定したファイルを Edit ツールで修正
- セキュリティ脆弱性（XSS, SQLインジェクション等）を導入しないよう注意
- コーディング規約に従う
- 各修正完了時に対応する todo を完了としてマーク

### 7. テストの実行と検証
- 既存のテストスイートを実行:
  - ユニットテスト
  - 統合テスト
  - エンドツーエンドテスト（該当する場合）
- 新しいテストが必要な場合は追加
- すべてのテストがパスすることを確認

### 8. コミットの作成
- 修正内容を git add でステージング
- コミットメッセージ形式:
  ```
  fix: <簡潔な説明> (#$ISSUE_NUMBER)

  - 修正内容の詳細
  - 影響範囲

  Fixes #$ISSUE_NUMBER

  🤖 Generated with [Claude Code](https://claude.com/claude-code)

  Co-Authored-By: Claude <noreply@anthropic.com>
  ```

### 9. プルリクエストの作成
- `gh pr create` で PR を作成
- PR の説明には以下を含める:
  - 問題の概要
  - 修正内容
  - テスト方法
  - スクリーンショット（UI変更の場合）
  - 関連 issue へのリンク（Fixes #$ISSUE_NUMBER）
- PR URL をユーザーに提示

## エラーハンドリング
- gh CLI が利用できない場合: インストール方法を案内
- issue が存在しない場合: issue 番号を確認するよう促す
- テストが失敗した場合: 失敗原因を分析し、修正を継続
- PR 作成に失敗した場合: 手動作成の手順を案内

## 注意事項
- 修正内容が大きい場合は、複数の小さな PR に分割することを提案
- 破壊的変更の場合は、ユーザーに明示的に確認を取る
- main/master ブランチへの直接プッシュは避ける